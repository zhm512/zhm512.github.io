(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{397:function(t,a,e){"use strict";e.r(a);var s=e(54),v=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"服务器与客户端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务器与客户端"}},[t._v("#")]),t._v(" 服务器与客户端")]),t._v(" "),e("h2",{attrs:{id:"ajax-过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax-过程"}},[t._v("#")]),t._v(" AJAX 过程")]),t._v(" "),e("p",[t._v("AJAX = Asynchronous JavaScript and XML（异步的 JavaScript 和 XML）。")]),t._v(" "),e("p",[t._v("AJAX 不是新的编程语言，而是一种使用现有标准的新方法。")]),t._v(" "),e("p",[t._v("AJAX 最大的优点是在不重新加载整个页面的情况下，可以与服务器交换数据并更新部分网页内容。")]),t._v(" "),e("p",[t._v("AJAX 不需要任何浏览器插件，但需要用户允许JavaScript在浏览器上执行。")]),t._v(" "),e("h2",{attrs:{id:"ajax的典型应用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax的典型应用场景"}},[t._v("#")]),t._v(" Ajax的典型应用场景")]),t._v(" "),e("p",[t._v("用户名检测：注册用户时，通过 ajax 的形式，动态检测用户名是否被占用")]),t._v(" "),e("h2",{attrs:{id:"ajax-工作原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax-工作原理"}},[t._v("#")]),t._v(" AJAX 工作原理")]),t._v(" "),e("h2",{attrs:{id:"ajax-创建-xmlhttprequest-对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax-创建-xmlhttprequest-对象"}},[t._v("#")]),t._v(" AJAX - 创建 XMLHttpRequest 对象")]),t._v(" "),e("p",[t._v("XMLHttpRequest 是 AJAX 的基础。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('var xmlhttp;\nif (window.XMLHttpRequest)\n{\n    //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码\n    xmlhttp=new XMLHttpRequest();\n}\nelse\n{\n    // IE6, IE5 浏览器执行代码\n    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");\n}\n\n')])])]),e("h2",{attrs:{id:"ajax-向服务器发送请求请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax-向服务器发送请求请求"}},[t._v("#")]),t._v(" AJAX - 向服务器发送请求请求")]),t._v(" "),e("p",[t._v("XMLHttpRequest 对象用于和服务器交换数据。")]),t._v(" "),e("p",[t._v("如需将请求发送到服务器，我们使用 XMLHttpRequest 对象的 open() 和 send() 方法：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('xmlhttp.open("GET","ajax_info.php",true);\nxmlhttp.send();\n')])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("方法")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("open("),e("em",[t._v("method")]),t._v(","),e("em",[t._v("url")]),t._v(","),e("em",[t._v("async")]),t._v(")")]),t._v(" "),e("td",[t._v("规定请求的类型、URL 以及是否异步处理请求。  "),e("em",[t._v("method")]),t._v("：请求的类型；GET 或 POST "),e("em",[t._v("url")]),t._v("：文件在服务器上的位置 "),e("em",[t._v("async")]),t._v("：true（异步）或 false（同步）")])]),t._v(" "),e("tr",[e("td",[t._v("send("),e("em",[t._v("string")]),t._v(")")]),t._v(" "),e("td",[t._v("将请求发送到服务器。  "),e("em",[t._v("string")]),t._v("：仅用于 POST 请求")])])])]),t._v(" "),e("h2",{attrs:{id:"get-还是-post"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-还是-post"}},[t._v("#")]),t._v(" GET 还是 POST？")]),t._v(" "),e("p",[t._v("与 POST 相比，GET 更简单也更快，并且在大部分情况下都能用。")]),t._v(" "),e("p",[t._v("然而，在以下情况中，请使用 POST 请求：")]),t._v(" "),e("ul",[e("li",[t._v("无法使用缓存文件（更新服务器上的文件或数据库）")]),t._v(" "),e("li",[t._v("向服务器发送大量数据（POST 没有数据量限制）")]),t._v(" "),e("li",[t._v("发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠")])]),t._v(" "),e("h2",{attrs:{id:"get-请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-请求"}},[t._v("#")]),t._v(" GET 请求")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('xmlhttp.open("GET","/try/ajax/demo_get.php",true);\nxmlhttp.send();\n\nxmlhttp.open("GET","/try/ajax/demo_get2.php?fname=Henry&lname=Ford",true);\nxmlhttp.send();\n\n')])])]),e("h2",{attrs:{id:"post-请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#post-请求"}},[t._v("#")]),t._v(" POST 请求")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('xmlhttp.open("POST","/try/ajax/demo_post.php",true);\nxmlhttp.send();\n\n如果需要\'传递数据，请使用 setRequestHeader() 来添加 HTTP 头。然后在 send() 方法中规定你希望发送的数据：\n\nxmlhttp.open("POST","/try/ajax/demo_post2.php",true);\nxmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");\nxmlhttp.send("fname=Henry&lname=Ford");\n\n')])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("方法")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("setRequestHeader("),e("em",[t._v("header,value")]),t._v(")")]),t._v(" "),e("td",[t._v("向请求添加 HTTP 头。  "),e("em",[t._v("header")]),t._v(": 规定头的名称 "),e("em",[t._v("value")]),t._v(": 规定头的值")])])])]),t._v(" "),e("h2",{attrs:{id:"ajax-服务器-响应"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax-服务器-响应"}},[t._v("#")]),t._v(" AJAX - 服务器 响应")]),t._v(" "),e("p",[t._v("如需获得来自服务器的响应，请使用 XMLHttpRequest 对象的 responseText 或 responseXML 属性。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("responseText")]),t._v(" "),e("td",[t._v("获得字符串形式的响应数据。")])]),t._v(" "),e("tr",[e("td",[t._v("responseXML")]),t._v(" "),e("td",[t._v("获得 XML 形式的响应数据。")])])])]),t._v(" "),e("h2",{attrs:{id:"ajax-onreadystatechange-事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax-onreadystatechange-事件"}},[t._v("#")]),t._v(" AJAX - onreadystatechange 事件")]),t._v(" "),e("h2",{attrs:{id:"onreadystatechange-事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onreadystatechange-事件"}},[t._v("#")]),t._v(" onreadystatechange 事件")]),t._v(" "),e("p",[t._v("当请求被发送到服务器时，我们需要执行一些基于响应的任务。")]),t._v(" "),e("p",[t._v("每当 readyState 改变时，就会触发 onreadystatechange 事件。")]),t._v(" "),e("p",[t._v("readyState 属性存有 XMLHttpRequest 的状态信息。")]),t._v(" "),e("p",[t._v("下面是 XMLHttpRequest 对象的三个重要的属性：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("onreadystatechange")]),t._v(" "),e("td",[t._v("存储函数（或函数名），每当 readyState 属性改变时，就会调用该函数。")])]),t._v(" "),e("tr",[e("td",[t._v("readyState")]),t._v(" "),e("td",[t._v("存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。  0: 请求未初始化 1: 服务器连接已建立 2: 请求已接收 3: 请求处理中 4: 请求已完成，且响应已就绪")])]),t._v(" "),e("tr",[e("td",[t._v("status")]),t._v(" "),e("td",[t._v('200: "OK"  404: 未找到页面')])])])])])}),[],!1,null,null,null);a.default=v.exports}}]);