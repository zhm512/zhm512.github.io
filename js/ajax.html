<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>服务器与客户端 | 生如逆旅砥砺前行</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="张浩明的个人博客">
    
    <link rel="preload" href="/assets/css/0.styles.495d9abf.css" as="style"><link rel="preload" href="/assets/js/app.088759d4.js" as="script"><link rel="preload" href="/assets/js/2.7d7e622b.js" as="script"><link rel="preload" href="/assets/js/13.504a3c1d.js" as="script"><link rel="prefetch" href="/assets/js/10.de80d1b3.js"><link rel="prefetch" href="/assets/js/11.414f0955.js"><link rel="prefetch" href="/assets/js/12.b15891dc.js"><link rel="prefetch" href="/assets/js/14.9a71fed4.js"><link rel="prefetch" href="/assets/js/15.6933e7df.js"><link rel="prefetch" href="/assets/js/16.944ebd0f.js"><link rel="prefetch" href="/assets/js/17.4bd98023.js"><link rel="prefetch" href="/assets/js/18.8bbf91f4.js"><link rel="prefetch" href="/assets/js/19.11148522.js"><link rel="prefetch" href="/assets/js/20.c98b5d29.js"><link rel="prefetch" href="/assets/js/21.37533c73.js"><link rel="prefetch" href="/assets/js/22.504c9caf.js"><link rel="prefetch" href="/assets/js/23.e1f402c5.js"><link rel="prefetch" href="/assets/js/24.35ef2e99.js"><link rel="prefetch" href="/assets/js/25.a0fc373a.js"><link rel="prefetch" href="/assets/js/26.c0c8ec64.js"><link rel="prefetch" href="/assets/js/27.ee2e66a6.js"><link rel="prefetch" href="/assets/js/28.d3c396b0.js"><link rel="prefetch" href="/assets/js/29.1a39449d.js"><link rel="prefetch" href="/assets/js/3.b2bfae33.js"><link rel="prefetch" href="/assets/js/30.68197c39.js"><link rel="prefetch" href="/assets/js/31.8cf4670b.js"><link rel="prefetch" href="/assets/js/32.788c77db.js"><link rel="prefetch" href="/assets/js/33.383f6953.js"><link rel="prefetch" href="/assets/js/34.70179257.js"><link rel="prefetch" href="/assets/js/35.131b4a28.js"><link rel="prefetch" href="/assets/js/36.b48a9e17.js"><link rel="prefetch" href="/assets/js/4.962258ec.js"><link rel="prefetch" href="/assets/js/5.8fb2962b.js"><link rel="prefetch" href="/assets/js/6.7a505dc8.js"><link rel="prefetch" href="/assets/js/7.d342a1d5.js"><link rel="prefetch" href="/assets/js/8.494c451b.js"><link rel="prefetch" href="/assets/js/9.ee2fe337.js">
    <link rel="stylesheet" href="/assets/css/0.styles.495d9abf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">生如逆旅砥砺前行</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/js/1.html" class="nav-link">
  Javascript
</a></div><div class="nav-item"><a href="/vue/1.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/react/1.html" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/softball/1.html" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/webgl/1.html" class="nav-link">
  node
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/js/1.html" class="nav-link">
  Javascript
</a></div><div class="nav-item"><a href="/vue/1.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/react/1.html" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/softball/1.html" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/webgl/1.html" class="nav-link">
  node
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Javascript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/1.html" class="sidebar-link">什么是Javascript</a></li><li><a href="/js/js基础篇.html" class="sidebar-link">javascript基础篇</a></li><li><a href="/js/函数篇.html" class="sidebar-link">函数篇</a></li><li><a href="/js/语句篇.html" class="sidebar-link">语句篇</a></li><li><a href="/js/BOM篇.html" class="sidebar-link">JavaScript的组成</a></li><li><a href="/js/DOM.html" class="sidebar-link">DOM</a></li><li><a href="/js/DOM属性样式操作.html" class="sidebar-link">操作元素</a></li><li><a href="/js/DOM节点操作.html" class="sidebar-link">节点操作</a></li><li><a href="/js/json.html" class="sidebar-link">数据交换格式</a></li><li><a href="/js/事件流.html" class="sidebar-link">DOM事件流</a></li><li><a href="/js/事件高级.html" class="sidebar-link">DOM级别</a></li><li><a href="/js/元素位置.html" class="sidebar-link">元素偏移量 offset 系列</a></li><li><a href="/js/同步异步.html" class="sidebar-link">JS执行机制</a></li><li><a href="/js/对象.html" class="sidebar-link">对象</a></li><li><a href="/js/正则表达式.html" class="sidebar-link">正则表达式概述</a></li><li><a href="/js/跨页面传值.html" class="sidebar-link">本地存储</a></li><li><a href="/js/面向对象1.html" class="sidebar-link">面向过程与面向对象</a></li><li><a href="/js/面向对象2.html" class="sidebar-link">构造函数和原型</a></li><li><a href="/js/面向对象3.html" class="sidebar-link">函数的定义和调用</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="服务器与客户端"><a href="#服务器与客户端" class="header-anchor">#</a> 服务器与客户端</h1> <h2 id="ajax-过程"><a href="#ajax-过程" class="header-anchor">#</a> AJAX 过程</h2> <p>AJAX = Asynchronous JavaScript and XML（异步的 JavaScript 和 XML）。</p> <p>AJAX 不是新的编程语言，而是一种使用现有标准的新方法。</p> <p>AJAX 最大的优点是在不重新加载整个页面的情况下，可以与服务器交换数据并更新部分网页内容。</p> <p>AJAX 不需要任何浏览器插件，但需要用户允许JavaScript在浏览器上执行。</p> <h2 id="ajax的典型应用场景"><a href="#ajax的典型应用场景" class="header-anchor">#</a> Ajax的典型应用场景</h2> <p>用户名检测：注册用户时，通过 ajax 的形式，动态检测用户名是否被占用</p> <h2 id="ajax-工作原理"><a href="#ajax-工作原理" class="header-anchor">#</a> AJAX 工作原理</h2> <h2 id="ajax-创建-xmlhttprequest-对象"><a href="#ajax-创建-xmlhttprequest-对象" class="header-anchor">#</a> AJAX - 创建 XMLHttpRequest 对象</h2> <p>XMLHttpRequest 是 AJAX 的基础。</p> <div class="language- extra-class"><pre class="language-text"><code>var xmlhttp;
if (window.XMLHttpRequest)
{
    //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
    xmlhttp=new XMLHttpRequest();
}
else
{
    // IE6, IE5 浏览器执行代码
    xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
}

</code></pre></div><h2 id="ajax-向服务器发送请求请求"><a href="#ajax-向服务器发送请求请求" class="header-anchor">#</a> AJAX - 向服务器发送请求请求</h2> <p>XMLHttpRequest 对象用于和服务器交换数据。</p> <p>如需将请求发送到服务器，我们使用 XMLHttpRequest 对象的 open() 和 send() 方法：</p> <div class="language- extra-class"><pre class="language-text"><code>xmlhttp.open(&quot;GET&quot;,&quot;ajax_info.php&quot;,true);
xmlhttp.send();
</code></pre></div><table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>open(<em>method</em>,<em>url</em>,<em>async</em>)</td> <td>规定请求的类型、URL 以及是否异步处理请求。  <em>method</em>：请求的类型；GET 或 POST <em>url</em>：文件在服务器上的位置 <em>async</em>：true（异步）或 false（同步）</td></tr> <tr><td>send(<em>string</em>)</td> <td>将请求发送到服务器。  <em>string</em>：仅用于 POST 请求</td></tr></tbody></table> <h2 id="get-还是-post"><a href="#get-还是-post" class="header-anchor">#</a> GET 还是 POST？</h2> <p>与 POST 相比，GET 更简单也更快，并且在大部分情况下都能用。</p> <p>然而，在以下情况中，请使用 POST 请求：</p> <ul><li>无法使用缓存文件（更新服务器上的文件或数据库）</li> <li>向服务器发送大量数据（POST 没有数据量限制）</li> <li>发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠</li></ul> <h2 id="get-请求"><a href="#get-请求" class="header-anchor">#</a> GET 请求</h2> <div class="language- extra-class"><pre class="language-text"><code>xmlhttp.open(&quot;GET&quot;,&quot;/try/ajax/demo_get.php&quot;,true);
xmlhttp.send();

xmlhttp.open(&quot;GET&quot;,&quot;/try/ajax/demo_get2.php?fname=Henry&amp;lname=Ford&quot;,true);
xmlhttp.send();

</code></pre></div><h2 id="post-请求"><a href="#post-请求" class="header-anchor">#</a> POST 请求</h2> <div class="language- extra-class"><pre class="language-text"><code>xmlhttp.open(&quot;POST&quot;,&quot;/try/ajax/demo_post.php&quot;,true);
xmlhttp.send();

如果需要'传递数据，请使用 setRequestHeader() 来添加 HTTP 头。然后在 send() 方法中规定你希望发送的数据：

xmlhttp.open(&quot;POST&quot;,&quot;/try/ajax/demo_post2.php&quot;,true);
xmlhttp.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);
xmlhttp.send(&quot;fname=Henry&amp;lname=Ford&quot;);

</code></pre></div><table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>setRequestHeader(<em>header,value</em>)</td> <td>向请求添加 HTTP 头。  <em>header</em>: 规定头的名称 <em>value</em>: 规定头的值</td></tr></tbody></table> <h2 id="ajax-服务器-响应"><a href="#ajax-服务器-响应" class="header-anchor">#</a> AJAX - 服务器 响应</h2> <p>如需获得来自服务器的响应，请使用 XMLHttpRequest 对象的 responseText 或 responseXML 属性。</p> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td>responseText</td> <td>获得字符串形式的响应数据。</td></tr> <tr><td>responseXML</td> <td>获得 XML 形式的响应数据。</td></tr></tbody></table> <h2 id="ajax-onreadystatechange-事件"><a href="#ajax-onreadystatechange-事件" class="header-anchor">#</a> AJAX - onreadystatechange 事件</h2> <h2 id="onreadystatechange-事件"><a href="#onreadystatechange-事件" class="header-anchor">#</a> onreadystatechange 事件</h2> <p>当请求被发送到服务器时，我们需要执行一些基于响应的任务。</p> <p>每当 readyState 改变时，就会触发 onreadystatechange 事件。</p> <p>readyState 属性存有 XMLHttpRequest 的状态信息。</p> <p>下面是 XMLHttpRequest 对象的三个重要的属性：</p> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td>onreadystatechange</td> <td>存储函数（或函数名），每当 readyState 属性改变时，就会调用该函数。</td></tr> <tr><td>readyState</td> <td>存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。  0: 请求未初始化 1: 服务器连接已建立 2: 请求已接收 3: 请求处理中 4: 请求已完成，且响应已就绪</td></tr> <tr><td>status</td> <td>200: &quot;OK&quot;  404: 未找到页面</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.088759d4.js" defer></script><script src="/assets/js/2.7d7e622b.js" defer></script><script src="/assets/js/13.504a3c1d.js" defer></script>
  </body>
</html>
