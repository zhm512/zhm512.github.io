<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM级别 | 生如逆旅砥砺前行</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="张浩明的个人博客">
    
    <link rel="preload" href="/assets/css/0.styles.495d9abf.css" as="style"><link rel="preload" href="/assets/js/app.088759d4.js" as="script"><link rel="preload" href="/assets/js/2.7d7e622b.js" as="script"><link rel="preload" href="/assets/js/17.4bd98023.js" as="script"><link rel="prefetch" href="/assets/js/10.de80d1b3.js"><link rel="prefetch" href="/assets/js/11.414f0955.js"><link rel="prefetch" href="/assets/js/12.b15891dc.js"><link rel="prefetch" href="/assets/js/13.504a3c1d.js"><link rel="prefetch" href="/assets/js/14.9a71fed4.js"><link rel="prefetch" href="/assets/js/15.6933e7df.js"><link rel="prefetch" href="/assets/js/16.944ebd0f.js"><link rel="prefetch" href="/assets/js/18.8bbf91f4.js"><link rel="prefetch" href="/assets/js/19.11148522.js"><link rel="prefetch" href="/assets/js/20.c98b5d29.js"><link rel="prefetch" href="/assets/js/21.37533c73.js"><link rel="prefetch" href="/assets/js/22.504c9caf.js"><link rel="prefetch" href="/assets/js/23.e1f402c5.js"><link rel="prefetch" href="/assets/js/24.35ef2e99.js"><link rel="prefetch" href="/assets/js/25.a0fc373a.js"><link rel="prefetch" href="/assets/js/26.c0c8ec64.js"><link rel="prefetch" href="/assets/js/27.ee2e66a6.js"><link rel="prefetch" href="/assets/js/28.d3c396b0.js"><link rel="prefetch" href="/assets/js/29.1a39449d.js"><link rel="prefetch" href="/assets/js/3.b2bfae33.js"><link rel="prefetch" href="/assets/js/30.68197c39.js"><link rel="prefetch" href="/assets/js/31.8cf4670b.js"><link rel="prefetch" href="/assets/js/32.788c77db.js"><link rel="prefetch" href="/assets/js/33.383f6953.js"><link rel="prefetch" href="/assets/js/34.70179257.js"><link rel="prefetch" href="/assets/js/35.131b4a28.js"><link rel="prefetch" href="/assets/js/36.b48a9e17.js"><link rel="prefetch" href="/assets/js/4.962258ec.js"><link rel="prefetch" href="/assets/js/5.8fb2962b.js"><link rel="prefetch" href="/assets/js/6.7a505dc8.js"><link rel="prefetch" href="/assets/js/7.d342a1d5.js"><link rel="prefetch" href="/assets/js/8.494c451b.js"><link rel="prefetch" href="/assets/js/9.ee2fe337.js">
    <link rel="stylesheet" href="/assets/css/0.styles.495d9abf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">生如逆旅砥砺前行</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/js/1.html" class="nav-link">
  Javascript
</a></div><div class="nav-item"><a href="/vue/1.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/react/1.html" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/softball/1.html" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/webgl/1.html" class="nav-link">
  node
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/js/1.html" class="nav-link">
  Javascript
</a></div><div class="nav-item"><a href="/vue/1.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/react/1.html" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/softball/1.html" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/webgl/1.html" class="nav-link">
  node
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Javascript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/1.html" class="sidebar-link">什么是Javascript</a></li><li><a href="/js/js基础篇.html" class="sidebar-link">javascript基础篇</a></li><li><a href="/js/函数篇.html" class="sidebar-link">函数篇</a></li><li><a href="/js/语句篇.html" class="sidebar-link">语句篇</a></li><li><a href="/js/BOM篇.html" class="sidebar-link">JavaScript的组成</a></li><li><a href="/js/DOM.html" class="sidebar-link">DOM</a></li><li><a href="/js/DOM属性样式操作.html" class="sidebar-link">操作元素</a></li><li><a href="/js/DOM节点操作.html" class="sidebar-link">节点操作</a></li><li><a href="/js/json.html" class="sidebar-link">数据交换格式</a></li><li><a href="/js/事件流.html" class="sidebar-link">DOM事件流</a></li><li><a href="/js/事件高级.html" class="active sidebar-link">DOM级别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/事件高级.html#_4-常用鼠标事件" class="sidebar-link">4. 常用鼠标事件</a></li><li class="sidebar-sub-header"><a href="/js/事件高级.html#_5-键盘事件" class="sidebar-link">5. 键盘事件</a></li></ul></li><li><a href="/js/元素位置.html" class="sidebar-link">元素偏移量 offset 系列</a></li><li><a href="/js/同步异步.html" class="sidebar-link">JS执行机制</a></li><li><a href="/js/对象.html" class="sidebar-link">对象</a></li><li><a href="/js/正则表达式.html" class="sidebar-link">正则表达式概述</a></li><li><a href="/js/跨页面传值.html" class="sidebar-link">本地存储</a></li><li><a href="/js/面向对象1.html" class="sidebar-link">面向过程与面向对象</a></li><li><a href="/js/面向对象2.html" class="sidebar-link">构造函数和原型</a></li><li><a href="/js/面向对象3.html" class="sidebar-link">函数的定义和调用</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dom级别"><a href="#dom级别" class="header-anchor">#</a> DOM级别</h1> <p>1级别：于1998年10月成为W3C的推荐标准，将html文档封装成对象；</p> <p>2级别：在1的基础上，添加了功能，例如对事件和CSS的支持；</p> <p>3级别：支持 XML的一些特性</p> <p>其实，就w3c标准来说，并没有0级ｄｏｍ的标准。只不过，事实上的适用总会成慢慢成为约定成俗的规则，所谓的DOM 0级是DOM历史坐标中的一个参照点而已。</p> <p>所谓的0级ｄｏｍ与２级ｄｏｍ事件就是不同版本间的差异，具体的说就是，对于不同的ｄｏｍ级别，如何定义事件处理，以及使用时有什么不同。</p> <h3 id="_2-注册事件-2种方式"><a href="#_2-注册事件-2种方式" class="header-anchor">#</a> 2. 注册事件（2种方式）</h3> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551165252019.png" alt="1551165252019"></p> <h3 id="_2-1事件监听"><a href="#_2-1事件监听" class="header-anchor">#</a> 2.1事件监听</h3> <h4 id="addeventlistener-事件监听-ie9以后支持"><a href="#addeventlistener-事件监听-ie9以后支持" class="header-anchor">#</a> addEventListener()事件监听（IE9以后支持）</h4> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551165364122.png" alt="1551165364122"></p> <p>eventTarget.addEventListener()方法将指定的监听器注册到 eventTarget（目标对象）上，当该对象触发指定的事件时，就会执行事件处理函数。</p> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551165604792.png" alt="1551165604792"></p> <h4 id="attacheevent-事件监听-ie678支持"><a href="#attacheevent-事件监听-ie678支持" class="header-anchor">#</a> attacheEvent()事件监听（IE678支持）</h4> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551165781836.png" alt="1551165781836"></p> <p>​	eventTarget.attachEvent()方法将指定的监听器注册到 eventTarget（目标对象） 上，当该对象触发指定的事件时，指定的回调函数就会被执行。</p> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551165843912.png" alt="1551165843912"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>传统注册事件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>方法监听注册事件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>ie9 attachEvent<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">var</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 1. 传统方式注册事件</span>
    btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hao a u'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
   <span class="token comment">// 2. 事件侦听注册事件 addEventListener </span>
   <span class="token comment">// (1) 里面的事件类型是字符串 必定加引号 而且不带on</span>
   <span class="token comment">// (2) 同一个元素 同一个事件可以添加多个侦听器（事件处理程序）</span>
    btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 3. attachEvent ie9以前的版本支持</span>
    btns<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="事件监听兼容性解决方案"><a href="#事件监听兼容性解决方案" class="header-anchor">#</a> 事件监听兼容性解决方案</h4> <p>封装一个函数，函数中判断浏览器的类型：</p> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551166023885.png" alt="1551166023885"></p> <h3 id="_2-2-删除事件-解绑事件"><a href="#_2-2-删除事件-解绑事件" class="header-anchor">#</a> 2.2 删除事件（解绑事件）</h3> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551166185410.png" alt="1551166185410"></p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">var</span> divs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        divs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 1. 传统方式删除事件</span>
            divs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 2. removeEventListener 删除事件</span>
        divs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span> <span class="token comment">// 里面的fn 不需要调用加小括号</span>
        <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            divs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 3. detachEvent</span>
        divs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> fn1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            divs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> fn1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>**删除事件兼容性解决方案 **</p> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551166332453.png" alt="1551166332453"></p> <h3 id="_3-事件对象"><a href="#_3-事件对象" class="header-anchor">#</a> 3. 事件对象</h3> <h4 id="什么是事件对象"><a href="#什么是事件对象" class="header-anchor">#</a> 什么是事件对象</h4> <p>事件发生后，跟事件相关的一系列信息数据的集合都放到这个对象里面，这个对象就是事件对象。</p> <p>比如：</p> <ol><li><p>谁绑定了这个事件。</p></li> <li><p>鼠标触发事件的话，会得到鼠标的相关信息，如鼠标位置。</p></li> <li><p>键盘触发事件的话，会得到键盘的相关信息，如按了哪个键。</p></li></ol> <h4 id="事件对象的使用"><a href="#事件对象的使用" class="header-anchor">#</a> 事件对象的使用</h4> <p>事件触发发生时就会产生事件对象，并且系统会以实参的形式传给事件处理函数。</p> <p>所以，在事件处理函数中声明1个形参用来接收事件对象。</p> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551169537789.png" alt="1551169537789"></p> <h4 id="事件对象的兼容性处理"><a href="#事件对象的兼容性处理" class="header-anchor">#</a> 事件对象的兼容性处理</h4> <p>事件对象本身的获取存在兼容问题：</p> <ol><li><p>标准浏览器中是浏览器给方法传递的参数，只需要定义形参 e 就可以获取到。</p></li> <li><p>在 IE6~8 中，浏览器不会给方法传递参数，如果需要的话，需要到 window.event 中获取查找。</p></li></ol> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551169680823.png" alt="1551169680823"></p> <div class="language- extra-class"><pre class="language-text"><code>只要“||”前面为false, 不管“||”后面是true 还是 false，都返回 “||” 后面的值。
只要“||”前面为true, 不管“||”后面是true 还是 false，都返回 “||” 前面的值。
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token number">123</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 事件对象</span>
                e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="事件对象的属性和方法"><a href="#事件对象的属性和方法" class="header-anchor">#</a> 事件对象的属性和方法</h4> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551169931778.png" alt="1551169931778"></p> <h2 id="_4-常用鼠标事件"><a href="#_4-常用鼠标事件" class="header-anchor">#</a> 4. 常用鼠标事件</h2> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551172699854.png" alt="1551172699854"></p> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551173103741.png" alt="1551173103741"></p> <h3 id="_4-1-案例-禁止选中文字和禁止右键菜单"><a href="#_4-1-案例-禁止选中文字和禁止右键菜单" class="header-anchor">#</a> 4.1 案例：禁止选中文字和禁止右键菜单</h3> <p><img src="images/1551172755484.png" alt="1551172755484"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    我是一段不愿意分享的文字
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token comment">// 1. contextmenu 我们可以禁用右键菜单</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'contextmenu'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">// 2. 禁止选中文字 selectstart</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'selectstart'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_4-2-获取鼠标在页面的坐标"><a href="#_4-2-获取鼠标在页面的坐标" class="header-anchor">#</a> 4.2 获取鼠标在页面的坐标</h3> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token comment">// 鼠标事件对象 MouseEvent</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1. client 鼠标在可视区的x和y坐标</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'---------------------'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 2. page 鼠标在页面文档的x和y坐标</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX<span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'---------------------'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 3. screen 鼠标在电脑屏幕的x和y坐标</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>screenX<span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>screenY<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_4-3-跟随鼠标的天使"><a href="#_4-3-跟随鼠标的天使" class="header-anchor">#</a> 4.3 跟随鼠标的天使</h3> <p><img src="images/1551173172613.png" alt="1551173172613"></p> <p><img src="images/1551173186812.png" alt="1551173186812"></p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;images/angel.gif&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">var</span> pic <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token comment">// 1. mousemove只要我们鼠标移动1px 就会触发这个事件</span>
        	<span class="token comment">// 2.核心原理： 每次鼠标移动，我们都会获得最新的鼠标坐标， </span>
            <span class="token comment">// 把这个x和y坐标做为图片的top和left 值就可以移动图片</span>
        	<span class="token keyword">var</span> x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>
        	<span class="token keyword">var</span> y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>
        	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'x坐标是'</span> <span class="token operator">+</span> x<span class="token punctuation">,</span> <span class="token string">'y坐标是'</span> <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token comment">//3 . 千万不要忘记给left 和top 添加px 单位</span>
        	pic<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> x <span class="token operator">-</span> <span class="token number">50</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        	pic<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> y <span class="token operator">-</span> <span class="token number">40</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_5-键盘事件"><a href="#_5-键盘事件" class="header-anchor">#</a> 5. 键盘事件</h2> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551318122855.png" alt="1551318122855"></p> <p>![1551318160371](E:\新建文件夹\web前端\配套资料\阶段三：JavaScript 网页编程资料\阶段三：JavaScript 网页编程资料\02-WebAPI编程资料\Web APIs-day04（8-12小节）\4-笔记\images\1551318160371.png)</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token comment">// 常用的键盘事件</span>
        <span class="token comment">//1. keyup 按键弹起的时候触发 </span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我弹起了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment">//3. keypress 按键按下的时候触发  不能识别功能键 比如 ctrl shift 左右箭头啊</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我按下了press'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">//2. keydown 按键按下的时候触发  能识别功能键 比如 ctrl shift 左右箭头啊</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我按下了down'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">// 4. 三个事件的执行顺序  keydown -- keypress -- keyup</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_5-2-键盘事件对象"><a href="#_5-2-键盘事件对象" class="header-anchor">#</a> 5.2 键盘事件对象</h3> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551318355505.png" alt="1551318355505"></p> <p>![1551318404238](E:\新建文件夹\web前端\配套资料\阶段三：JavaScript 网页编程资料\阶段三：JavaScript 网页编程资料\02-WebAPI编程资料\Web APIs-day04（8-12小节）\4-笔记\images\1551318404238.png)</p> <p><strong>使用keyCode属性判断用户按下哪个键</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token comment">// 键盘事件对象中的keyCode属性可以得到相应键的ASCII码值</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'up:'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 我们可以利用keycode返回的ASCII码值来判断用户按下了那个键</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode <span class="token operator">===</span> <span class="token number">65</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'您按下的a键'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'您没有按下a键'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// console.log(e);</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'press:'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_5-3-模拟京东按键输入内容"><a href="#_5-3-模拟京东按键输入内容" class="header-anchor">#</a> 5.3 模拟京东按键输入内容</h3> <p>当我们按下 s 键， 光标就定位到搜索框（文本框获得焦点）。</p> <p><img src="https://cdn.jsdelivr.net/gh/zhm512/cdn/img/1551318669520.png" alt="1551318669520"></p> <blockquote><p>注意：触发获得焦点事件，可以使用 元素对象.focus()</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token comment">// 获取输入框</span>
        <span class="token keyword">var</span> search <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 给document注册keyup事件</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 判断keyCode的值</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode <span class="token operator">===</span> <span class="token number">83</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 触发输入框的获得焦点事件</span>
                search<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;search&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;con&quot;</span><span class="token operator">&gt;</span><span class="token number">123</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;请输入您的快递单号&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;jd&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token comment">// 获取要操作的元素</span>
        <span class="token keyword">var</span> con <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.con'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> jd_input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.jd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 给输入框注册keyup事件</span>
        jd_input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// 判断输入框内容是否为空</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 为空，隐藏放大提示盒子</span>
                    con<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 不为空，显示放大提示盒子，设置盒子的内容</span>
                    con<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
                    con<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">// 给输入框注册失去焦点事件，隐藏放大提示盒子</span>
        jd_input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'blur'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                con<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">// 给输入框注册获得焦点事件</span>
        jd_input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 判断输入框内容是否为空</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 不为空则显示提示盒子</span>
                con<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/js/事件流.html" class="prev">
        DOM事件流
      </a></span> <span class="next"><a href="/js/元素位置.html">
        元素偏移量 offset 系列
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.088759d4.js" defer></script><script src="/assets/js/2.7d7e622b.js" defer></script><script src="/assets/js/17.4bd98023.js" defer></script>
  </body>
</html>
